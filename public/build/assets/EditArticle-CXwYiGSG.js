import{r as g,W as p,j as e,d as o}from"./app-Dep5erZb.js";import{A as u}from"./AdminLayout-CT7OHU9j.js";import{M as b}from"./index-TgqQBN80.js";import{R as j}from"./quill.snow-CZU8SsJQ.js";const w=l=>{const[n,c]=g.useState(l.artikel.image?`/storage/artikel/images/${l.artikel.image}`:null),{data:a,setData:i,post:m,errors:t}=p({_method:"patch",id:l.artikel.id,title:l.artikel.title,author:l.artikel.author,description:l.artikel.description}),x=r=>{r.preventDefault(),m(route("article.update",{id:l.artikel.id}),a),console.log(a)},h=r=>{const s=r.target.files[0];if(s){const d=new FileReader;d.onloadend=()=>{c(d.result)},d.readAsDataURL(s),i("image",s)}};return e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-xl px-5 md:px-8 lg:px-11 xl:px-14 bg-white mt-3",children:[e.jsxs("div",{className:"flex gap-x-2 items-center text-[#64748B] my-3",children:[e.jsx(o,{href:route("article.index"),children:"Article"}),e.jsx(b,{size:25}),e.jsx(o,{href:"",className:"text-[#004877]",children:"Edit Article"})]}),e.jsx("h1",{className:"text-xl font-bold mb-3",children:"Edit Article"})]}),e.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-xl px-5 md:px-8 lg:px-11 xl:px-14 bg-white mt-3",children:e.jsxs("form",{onSubmit:x,encType:"multipart/form-data",children:[e.jsxs("div",{className:"my-5 flex flex-col gap-y-2",children:[e.jsx("label",{htmlFor:"title",className:"font-semibold text-lg",children:"Title*"}),e.jsx("input",{id:"title",type:"text",placeholder:"Please enter title",className:`border-2 border-gray-300 rounded-lg p-2 ${t.title?"border-red-500":""}`,value:a.title||"",onChange:r=>i("title",r.target.value)}),t.title&&e.jsx("p",{className:"text-red-500",children:t.title})]}),e.jsxs("div",{className:"my-5 flex flex-col gap-y-2",children:[e.jsx("label",{htmlFor:"author",className:"font-semibold text-lg",children:"Author*"}),e.jsx("input",{id:"author",type:"text",placeholder:"Please enter author",className:`border-2 border-gray-300 rounded-lg p-2 ${t.author?"border-red-500":""}`,value:a.author||"",onChange:r=>i("author",r.target.value)}),t.author&&e.jsx("p",{className:"text-red-500",children:t.author})]}),e.jsxs("div",{className:"my-5 flex flex-col gap-y-2",children:[e.jsx("label",{htmlFor:"image",className:"font-semibold text-lg",children:"Image"}),e.jsx("input",{id:"image",type:"file",name:"image",accept:"image/*",className:"border-2 border-gray-300 rounded-lg p-2",onChange:h}),n&&e.jsx("img",{src:n,alt:"Preview",className:"mt-2 w-40 h-40 object-cover"}),t.image&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsxs("div",{className:"my-5",children:[e.jsx("label",{htmlFor:"description",className:"font-semibold text-lg",children:"Description*"}),e.jsx(j,{id:"description",theme:"snow",placeholder:"Please enter description",value:a.description||"",onChange:r=>i("description",r)}),t.description&&e.jsx("p",{className:"text-red-500",children:t.description})]}),e.jsxs("div",{className:"flex justify-end mt-6 gap-x-4",children:[e.jsx(o,{href:route("article.index"),className:"bg-white px-8 py-2.5 rounded-full text-[#004877] border-2 border-[#004877] font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-[#004877] px-8 py-2.5 rounded-full text-white font-semibold",children:"Edit"})]})]})})]})})};export{w as default};
